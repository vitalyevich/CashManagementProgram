<div th:fragment="edit-cash-order" class="edit">
    <div class="v23_948">
        <form th:action="@{/storage-collection/edit-cash}" method="post" th:object="${cassette}" onsubmit="collectTableData()">
            <div class="v363_433">
                <div class="v363_432">
                    <div class="v23_1028"></div>
                    <span class="v23_1026">Номиналы</span>
                </div>

                <div class="v363_401">
                    <div class="v18_18">
                        <table name="table" id="table" class="table" style="top:25px;">
                            <thead>
                            <tr>
                                <th>Валюта</th>
                                <th>Номинал</th>
                                <th>Количество</th>
                                <th>Сумма</th>
                            </tr>
                            </thead>
                            <tbody id="body">
                            <tr th:each="lst : ${cassettesList}">
                                <td style="width: 1vw;" name="currency" th:text="${lst.currency}"></td>
                                <td contenteditable="true" style="width: 1vw;" name="banknote" th:text="${lst.banknote}"></td>
                                <td contenteditable style="width: 1vw;" name="amount" th:text="${lst.amount}"></td>
                                <td style="width: 1vw;" th:text="${lst.banknote} * ${lst.amount}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <span class="v23_1036">Общая сумма: 0,00 EUR</span>
                    <span class="v23_1030">Валюта</span>
                </div>
            </div>

            <div class="v363_435">
                <div class="v23_952"></div>
                <span class="v23_966">Получатель</span>
                <span class="v23_967">Отправитель</span>
                <span class="v23_969">Дата заказа</span>

                <select required class="v23_954">
                    <option name="recipient" th:each="el, iterStat : ${companies}" th:value="${iterStat.index + 1}" th:text="${el.companyName}">
                    </option>
                </select>

                <select required class="v23_1018">
                    <option name="sender" th:each="el, iterStat : ${companies}" th:value="${iterStat.index + 1}" th:text="${el.companyName}">
                </select>

                <input readonly name="date" class="v23_956" type="text" th:value="${date}">

            </div>

            <div class="v363_436">
                <div class="v23_949">
                    <span class="v23_950">Редактирование заказа наличных</span>
                </div>
            </div>


            <span class="v23_961">А0100089, Заказ, План. инкассация 07.08.2022</span>
            <select class="v363_434">
                <option value="">ТУТ</option>
                <option value="BYN">BYN</option>
                <option value="RUB">RUB</option>
                <option value="EUR">EUR</option>
                <option value="USD">USD</option>
            </select>
            <a href="#">
                <input type="button" class="v363_427" value="Отменить">
            </a>

            <input type="hidden" id="dataField" name="data" />

            <input type="submit" class="v363_428" value="Применить">

        </form>
    </div>

    <script>
        function collectTableData() {
            var data = "";
            var tbody = document.getElementById("body");
            var rows = tbody.getElementsByTagName("tr");

            for (var i = 0; i < rows.length; i++) {
                var row = rows[i];
                var currency = row.getElementsByTagName("td")[0].innerText;
                var banknote = row.getElementsByTagName("td")[1].innerText;
                var amount = row.getElementsByTagName("td")[2].innerText;

                data += currency + " " + banknote + " " + amount + "\n";
            }

            document.getElementById("dataField").value = data;
            return true; // Позволяет отправить форму
        }
    </script>

</div>

<div th:fragment="blackout-edit" id="blackout-edit">
  <a href="#" class="close"></a>
  <div id="window-black-ed">
    <div th:insert="storage/edit-cash-order :: edit-cash-order"></div>
  </div>
</div>-->
